<!-- ============================================
     ðŸŽ macOS Sidebar (Estilo Finder)
     ============================================ -->
<aside class="macos-sidebar">
    <!-- Header da Sidebar -->
    <div class="macos-sidebar-header">
        <div class="macos-sidebar-logo"
            style="display: flex; justify-content: center; align-items: center; padding: 20px 0;">
            <div
                style="background: rgba(0, 0, 0, 0.08); border-radius: 16px; padding: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <img src="/images/logo-fortal.png" alt="Fortal"
                    style="height: 100px; width: 100px; object-fit: contain; transform: scale(1.15);">
            </div>
        </div>
    </div>

    <!-- NavegaÃ§Ã£o Principal -->
    <nav style="padding: 12px 8px;">
        <!-- Ferramentas -->
        <div class="macos-sidebar-section">
            <div class="macos-sidebar-section-title">Ferramentas</div>

            <a href="/" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-chart-pie"></i>
                </span>
                <span class="macos-sidebar-item-text">Dashboard</span>
            </a>

            <a href="/leads" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-filter-circle-dollar"></i>
                </span>
                <span class="macos-sidebar-item-text">Novos Leads</span>
            </a>

            <a href="/carteira" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-users"></i>
                </span>
                <span class="macos-sidebar-item-text">Meus Clientes</span>
            </a>

            <a href="/calculadora" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-calculator"></i>
                </span>
                <span class="macos-sidebar-item-text">Calculadora</span>
            </a>

            <a href="/da-vinci" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-file-signature"></i>
                </span>
                <span class="macos-sidebar-item-text">Gerador de Proposta</span>
            </a>

            <a href="/layout" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-brands fa-instagram"></i>
                </span>
                <span class="macos-sidebar-item-text">Gerador de Stories</span>
            </a>

            <a href="/oportunidades" class="macos-sidebar-item">
                <span class="macos-sidebar-item-icon">
                    <i class="fa-solid fa-gem"></i>
                </span>
                <span class="macos-sidebar-item-text">Banco de Oportunidades</span>
            </a>

            <% if (user && user.isAdmin) { %>
                <a href="/admin/invites" class="macos-sidebar-item">
                    <span class="macos-sidebar-item-icon">
                        <i class="fa-solid fa-paper-plane"></i>
                    </span>
                    <span class="macos-sidebar-item-text">Gerenciar Convites</span>
                </a>
                <% } %>
        </div>
    </nav>
</aside>

<script>
    // Marcar item ativo baseado na URL atual
    document.addEventListener('DOMContentLoaded', () => {
        const currentPath = window.location.pathname;
        const currentHash = window.location.hash;
        const sidebarItems = document.querySelectorAll('.macos-sidebar-item');

        sidebarItems.forEach(item => {
            const href = item.getAttribute('href');

            // Verificar se Ã© a pÃ¡gina atual
            if (href === currentPath || (href.includes('#') && href === currentPath + currentHash)) {
                item.classList.add('active');
            }

            // Adicionar listener para marcar como ativo ao clicar
            item.addEventListener('click', () => {
                sidebarItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
            });
        });
    });
</script>